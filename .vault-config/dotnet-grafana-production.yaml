storageLocation:
  type: azure-key-vault
  parameters:
    subscription: a4fc5514-21a9-4296-bfaf-5c7ee7fa35d1
    name: dotnet-grafana

importSecretsFrom: shared/dotnet-grafana-secrets.yaml

secrets:
  # TODO: Only storing app-secret, should instead use Secret Manager to store everything?
  # Was: dotnet-grafana-github-oauth-app-secret
  dotnet-grafana-github-oauth-app-secret:
    type: github-app-secret
    parameters:
      hasPrivateKey: false
      hasWebHookSecret: false
      hasAppSecret: true

  # TODO: Only storing app-secret, should instead use Secret Manager to store everything?
  # Was: dotnet-grafana-github-production-oauth-app-secret
  dotnet-grafana-github-production-oauth-app-secret:
    type: github-app-secret
    parameters:
      hasPrivateKey: false
      hasWebHookSecret: false
      hasAppSecret: true

  # TODO: Only storing app-secret, should instead use Secret Manager to store everything?
  # Was: dotnet-grafana-github-staging-oauth-app-secret
  dotnet-grafana-github-staging-oauth-app-secret:
    type: github-app-secret
    parameters:
      hasPrivateKey: false
      hasWebHookSecret: false
      hasAppSecret: true

  # Used by machine setup scripts during deployment and for the alert system for image storage
  dotnetgrafana-storage-account-key:
    type: azure-storage-key
    parameters:
      account: dotnetgrafana
      subscription: a4fc5514-21a9-4296-bfaf-5c7ee7fa35d1

  # Grafana API token with Admin privileges
  grafana-admin-api-key:
    type: grafana-api-key
    parameters:
      environment: dotnet-eng-grafana.westus2.cloudapp.azure.com

  # Grafana Admin user password
  grafana-admin-password:
    type: text

  # Used by Grafana to encrypt data-at-rest; do not rotate lest data become un-decryptable.
  grafana-aes-256-secret-key:
    type: text
