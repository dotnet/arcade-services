storageLocation:
  type: azure-key-vault
  parameters:
    subscription: a4fc5514-21a9-4296-bfaf-5c7ee7fa35d1
    name: dotnet-grafana

secrets:

  # API token from https://dotneteng-status{-staging}.azurewebsites.net/
  dotnet-build-bot-dotnet-eng-status-token:
    type: text

  # TODO: Only storing app-secret, should instead use Secret Manager to store everything?
  # Was: dotnet-grafana-github-oauth-app-secret
  dotnet-grafana-github-oauth-app-secret:
    type: github-app-secret
    parameters:
      hasPrivateKey: false
      hasWebHookSecret: false
      hasAppSecret: true

  # TODO: Only storing app-secret, should instead use Secret Manager to store everything?
  # Was: dotnet-grafana-github-production-oauth-app-secret
  dotnet-grafana-github-production-oauth-app-secret:
    type: github-app-secret
    parameters:
      hasPrivateKey: false
      hasWebHookSecret: false
      hasAppSecret: true

  # TODO: Only storing app-secret, should instead use Secret Manager to store everything?
  # Was: dotnet-grafana-github-staging-oauth-app-secret
  dotnet-grafana-github-staging-oauth-app-secret:
    type: github-app-secret
    parameters:
      hasPrivateKey: false
      hasWebHookSecret: false
      hasAppSecret: true

  # Composite value with dotnet-build-bot-dotnet-eng-status-token 
  dotneteng-status-auth-header:
    type: text

  # Used by machine setup scripts during deployment and for the alert system for image storage
  dotnetgrafana-storage-account-key:
    type: azure-storage-key
    parameters:
      account: dotnetgrafana
      subscription: a4fc5514-21a9-4296-bfaf-5c7ee7fa35d1

  # Fixed value set by Teams Incoming Hook plugin; no rotation, but should be kept secret.
  fr-bot-notifications-teams-notification-url:
    type: text

  # Grafana API token with Admin privileges
  grafana-admin-api-key:
    type: grafana-api-key
    parameters:
      environment: dotnet-eng-grafana.westus2.cloudapp.azure.com

  # Grafana Admin user password
  grafana-admin-password:
    type: text

  # Used by Grafana to encrypt data-at-rest; do not rotate lest data become un-decryptable.
  grafana-aes-256-secret-key:
    type: text

  # helix-grafana Service Principal, client ID a2541735-8225-40af-9c8a-2ae233203739
  helix-grafana-ad-client-secret:
    type: text

  # Used by deployment
  key-vault-app-secret:
    type: text
