storageLocation:
  type: azure-key-vault
  parameters:
    subscription: a4fc5514-21a9-4296-bfaf-5c7ee7fa35d1
    name: dotnet-grafana

importSecretsFrom: shared/dotnet-grafana-secrets.yaml

secrets:
  # Was: dotnet-grafana-github-production-oauth-app-secret
  # The "Dotnet Engineering Grafana Monitoring" owned by dotnet-gh-app-bot
  dotnet-grafana-github-production-oauth-app-secret:
    type: github-oauth-secret
    parameters:
      hasPrivateKey: false
      hasWebHookSecret: false
      hasAppSecret: true

  # Was: dotnet-grafana-github-staging-oauth-app-secret
  # The "Dotnet Engineering Grafana Monitoring (staging)" owned by dotnet-gh-app-bot
  dotnet-grafana-github-staging-oauth-app-secret:
    type: github-oauth-secret
    parameters:
      hasPrivateKey: false
      hasWebHookSecret: false
      hasAppSecret: true

  # Used by machine setup scripts during deployment and for the alert system for image storage
  dotnetgrafana-storage-account-key:
    type: azure-storage-key
    parameters:
      account: dotnetgrafana
      subscription: a4fc5514-21a9-4296-bfaf-5c7ee7fa35d1

  # Grafana API token with Admin privileges
  grafana-admin-api-key:
    type: grafana-api-key
    parameters:
      environment: dotnet-eng-grafana.westus2.cloudapp.azure.com
